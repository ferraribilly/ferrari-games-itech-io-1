/*! For license information please see bundle.916264408c3aa460a17c.js.LICENSE.txt */
(()=>{"use strict";(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var r={},o={avestruz:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547489/avestruz_pur9xf.jpg",aguia:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547488/aguia_rqrgow.jpg",burro:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547479/burro_nhqsuo.jpg",borboleta:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547475/borboleta_dvxbt5.jpg",cachorro:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547474/cachorro_sbxa0t.jpg",cabra:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547463/cabra_syobez.jpg",carneiro:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547462/carneiro_el5q8c.jpg",camelo:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547462/camelo_zvqiib.jpg",cobra:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547449/cobra_vsptji.jpg",coelho:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547449/coelho_w3svli.jpg",galo:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547449/galo_xblsct.jpg",cavalo:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547438/cavalo_nfpnhr.jpg",elefante:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547437/elefante_oogtdd.jpg",gato:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547436/gato_zci9oe.jpg",jacare:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547430/jacare_teict1.jpg",leao:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547430/leao_ri1qwk.jpg",macaco:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547430/macaco_bxswmk.jpg",porco:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547425/porco_vidqjm.jpg",pavao:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547425/pavao_ulyvcg.jpg",peru:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547419/peru_jktqmx.jpg",tigre:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547419/tigre_c89mmi.jpg",touro:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547419/touro_ydodxb.jpg",urso:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547419/urso_xgaypz.jpg",veado:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547418/viado_p08gzp.jpg",vaca:"https://res.cloudinary.com/dptprh0xk/image/upload/v1762547418/vaca_x2m2gl.jpg"},i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,r[e]?this.img=r[e].cloneNode():(this.img=new Image,this.img.src=o[e],r[e]=this.img)}return n=t,i=[{key:"preload",value:function(){t.symbols.forEach(function(e){return new t(e)})}},{key:"symbols",get:function(){return["avestruz","aguia","burro","borboleta","cachorro","cabra","carneiro","camelo","cobra","coelho","cavalo","elefante","galo","gato","jacare","leao","macaco","porco","pavao","peru","touro","tigre","urso","veado","vaca"]}},{key:"random",value:function(){return this.symbols[Math.floor(Math.random()*this.symbols.length)]}}],null&&e(n.prototype,null),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t){if("object"!=a(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==a(e)?e:e+""}var s=function(){return t=function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reelContainer=e,this.idx=n,this.symbolContainer=document.createElement("div"),this.symbolContainer.classList.add("icons"),this.reelContainer.appendChild(this.symbolContainer),this.animation=this.symbolContainer.animate([{top:0,filter:"blur(0)"},{filter:"blur(2px)",offset:.5},{top:"calc((".concat(25*Math.floor(this.factor)," / 5) * -100%)"),filter:"blur(0)"}],{duration:1e3*this.factor,easing:"ease-in-out"}),this.animation.cancel(),r.forEach(function(t){return o.symbolContainer.appendChild(new i(t).img)})},(e=[{key:"factor",get:function(){return 1+Math.pow(this.idx/2,2)}},{key:"renderSymbols",value:function(t){for(var e=document.createDocumentFragment(),n=25*Math.floor(this.factor),r=0;r<n;r++){var o=new i(r>=n-5?t[r-(n-5)]:i.random());e.appendChild(o.img)}this.symbolContainer.appendChild(e)}},{key:"spin",value:function(){var t=this,e=new Promise(function(e){return t.animation.onfinish=e}),n=new Promise(function(e){return setTimeout(e,1e3*t.factor)});return this.animation.cancel(),this.animation.play(),Promise.race([e,n]).then(function(){"finished"!==t.animation.playState&&t.animation.finish();for(var e=t.symbolContainer.children.length-5,n=0;n<e;n++)t.symbolContainer.firstChild.remove()})}},{key:"highlightRow",value:function(t){Array.from(this.symbolContainer.children).forEach(function(t){return t.classList.remove("win")});var e=this.symbolContainer.children[t];e&&e.classList.add("win")}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function h(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return d(s,"_invoke",function(n,r,o){var i,c,l,s=0,u=o||[],p=!1,h={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return i=e,c=0,l=t,h.n=n,a}};function d(n,r){for(c=n,l=r,e=0;!p&&s&&!o&&e<u.length;e++){var o,i=u[e],d=h.p,f=i[2];n>3?(o=f===r)&&(l=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=n<2&&d<i[1])?(c=0,h.v=r,h.n=i[1]):d<f&&(o=n<3||i[0]>r||r>f)&&(i[4]=n,i[5]=r,h.n=f,c=0))}if(o||n>1)return a;throw p=!0,r}return function(o,u,f){if(s>1)throw TypeError("Generator is already running");for(p&&1===u&&d(u,f),c=u,l=f;(e=c<2?t:l)||!p;){i||(c?c<3?(c>1&&(h.n=-1),d(c,l)):h.n=l:h.v=l);try{if(s=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(p=h.n<0)?l:n.call(r,h))!==a)break}catch(e){i=t,c=1,l=e}finally{s=1}}return{value:e,done:p}}}(n,o,i),!0),s}var a={};function c(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(d(e={},r,function(){return this}),e),p=s.prototype=c.prototype=Object.create(u);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,d(t,o,"GeneratorFunction")),t.prototype=Object.create(p),t}return l.prototype=s,d(p,"constructor",s),d(s,"constructor",l),l.displayName="GeneratorFunction",d(s,o,"GeneratorFunction"),d(p),d(p,o,"Generator"),d(p,r,function(){return this}),d(p,"toString",function(){return"[object Generator]"}),(h=function(){return{w:i,m:f}})()}function d(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}d=function(t,e,n,r){function i(e,n){d(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},d(t,e,n,r)}function f(t,e,n,r,o,i,a){try{var c=t[i](a),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,c,"next",t)}function c(t){f(i,r,o,a,c,"throw",t)}a(void 0)})}}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function b(t){var e=function(t){if("object"!=u(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==u(e)?e:e+""}var v=function(){return t=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.preload(),this.balanceUI=document.getElementById("balance"),this.betUI=document.getElementById("betValue"),this.winUI=document.getElementById("win"),this.balance=0,this.betValue=.5,this.config=Object.assign({betStep:.5,betMin:.5,betMax:1e6},r),this.updateUI(0),this.currentSymbols=[["avestruz","aguia","burro","borboleta","cachorro"],["cabra","carneiro","camelo","cobra","coelho"],["cavalo","elefante","galo","gato","jacare"],["leao","macaco","porco","pavao","peru"],["touro","tigre","urso","veado","vaca"]],this.nextSymbols=JSON.parse(JSON.stringify(this.currentSymbols)),this.container=e,this.reels=Array.from(this.container.getElementsByClassName("reel")).map(function(t,e){return new s(t,e,n.currentSymbols[e])}),this.spinButton=document.getElementById("spin"),this.spinButton.addEventListener("click",function(){return n.spin()}),this.autoPlayCheckbox=document.getElementById("autoplay"),r.inverted&&this.container.classList.add("inverted"),window.slot=this,window.betMinus=function(){var t=parseFloat(n.config.betStep)||.5,e=+(n.betValue-t).toFixed(2);n.betValue=Math.max(n.config.betMin,e),n.betValue>n.balance&&(n.betValue=Math.min(n.betValue,n.balance)),n.updateUI(0)},window.betPlus=function(){var t=parseFloat(n.config.betStep)||.5,e=+(n.betValue+t).toFixed(2);n.betValue=Math.min(n.config.betMax,e),n.updateUI(0)}},e=[{key:"init",value:(r=y(h().m(function t(){var e,n,r;return h().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,fetch("http://192.168.18.66:5000/rodar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bet:this.betValue})});case 1:return e=t.v,t.n=2,e.json();case 2:(n=t.v)&&n.grid&&(this.nextSymbols=n.grid),n&&void 0!==n.balance_player&&(this.balance=parseFloat(n.balance_player),this.updateUI(0)),t.n=4;break;case 3:t.p=3,r=t.v,console.error(r);case 4:return t.a(2)}},t,this,[[0,3]])})),function(){return r.apply(this,arguments)})},{key:"updateUI",value:function(t){var e=this;this.balanceUI&&(this.balanceUI.textContent="R$ "+this.balance.toFixed(2)),this.betUI&&(this.betUI.textContent="R$ "+this.betValue.toFixed(2)),t>0&&this.winUI&&(this.winUI.textContent="R$ "+t.toFixed(2),this.winUI.style.opacity=.5,setTimeout(function(){e.winUI.style.opacity=0},5e3)),this.balance<=0&&this.showDepositMessage()}},{key:"showDepositMessage",value:function(){if(!document.getElementById("deposit-message")){var t=document.createElement("div");t.id="deposit-message",t.style.position="absolute",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.background="#333",t.style.padding="20px",t.style.color="white",t.style.border="2px solid #000",t.style.textAlign="center",t.style.width="580px",t.style.height="auto",t.innerHTML='\n      <p>Saldo insulficiente!!</p>\n      <button id="deposit-btn">Ir para Dep√≥sitos</button>\n    ',document.body.appendChild(t),document.getElementById("deposit-btn").addEventListener("click",function(){window.location.href="http://192.168.18.66:5000/compras/users/<string:user_id> "})}}},{key:"spin",value:(n=y(h().m(function t(){var e,n,r,o,a=this;return h().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!(this.balance<this.betValue)){t.n=1;break}return t.a(2);case 1:return this.spinButton.disabled=!0,t.p=2,t.n=3,fetch("http://192.168.18.66:5000/rodar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bet:this.betValue})});case 3:return n=t.v,t.n=4,n.json();case 4:e=t.v,t.n=6;break;case 5:t.p=5,o=t.v,console.error(o);case 6:return e&&e.grid?(this.nextSymbols=e.grid,void 0!==e.balance_player&&(this.balance=parseFloat(e.balance_player))):this.nextSymbols=this.currentSymbols.map(function(t){return t.map(function(){return i.random()})}),this.onSpinStart(this.nextSymbols),t.n=7,Promise.all(this.reels.map(function(t){return t.renderSymbols(a.nextSymbols[t.idx]),t.spin()}));case 7:e&&e.wins&&e.wins.forEach(function(t){return a.highlightWin(t.positions)}),r=e&&void 0!==e.win?parseFloat(e.win):0,this.updateUI(r),this.onSpinEnd(e&&e.wins?e.wins:[]);case 8:return t.a(2)}},t,this,[[2,5]])})),function(){return n.apply(this,arguments)})},{key:"highlightWin",value:function(t){var e=this;(document.getElementById("linesLayer")||this.createLinesLayer()).innerHTML="",t.forEach(function(t){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){s=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),r=n[0],o=n[1],i=e.reels[r].symbolContainer.children[o];i&&i.classList.add("win")})}},{key:"createLinesLayer",value:function(){var t=document.createElement("div");return t.id="linesLayer",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.style.zIndex="9999",this.container.appendChild(t),t}},{key:"onSpinStart",value:function(t){var e,n;null===(e=(n=this.config).onSpinStart)||void 0===e||e.call(n,t)}},{key:"onSpinEnd",value:function(t){var e,n,r=this;null===(e=(n=this.config).onSpinEnd)||void 0===e||e.call(n,t),this.spinButton.disabled=!1,this.autoPlayCheckbox&&this.autoPlayCheckbox.checked&&setTimeout(function(){return r.spin()},200)}}],e&&m(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}(),g={inverted:!1,onSpinStart:function(t){console.log("onSpinStart",t)},onSpinEnd:function(t){console.log("onSpinEnd",t)}};new v(document.getElementById("slotCanvas"),g)})()})();